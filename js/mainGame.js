const gameData = {
    "1": {
        "text": "We are laying in bed hanging out being dumb as usual, \
        Simon asks what do you want to do, how will you reply?",
        "image" : "smaller_images/new/bed1.png",
"choices": {
            "I'm Hungry": [27,["Hello Kitty"]],
            "Lets go out and do something!": [47,["Keroppi", "Doraemon"]],
            "Let's chill home": [15,["Kuromi"]],
            "Idk what do you want to do?": [2, ["Pompompurin"]]
        }
    },
    "2": {
        "text": " Do you want a surprise or do you want to go for a walk?",
        "image" : "smaller_images/new/bed2.png",
"choices": {
            "Walk!!": [3, ["Keroppi"]],
            "Surprise please!!": [9,["Doraemon", "Pompompurin"]],
        }
    },
    "3": {
        "text": "We end up at Simonston's Park and we stop to admire the sunset, what do you do?",
        "image" : "smaller_images/new/walksunset.png",
"choices": {
            "Lean in for a kiss": [4,["Doraemon"]],
            "Rest your head on his shoulder": [4,["Doraemon"]],
            "It's getting cold, lets go home": [4,["Hello Kitty", "Pompompurin", "Kuromi"]],
            "Lets keep walking!": [6,[ "Keroppi"]],
        }
    },
    "4": {
        "text": "The romantic park walk comes to an end. What is on your mind?",
        "image" : "smaller_images/new/walksunset1.jpg",
"choices": {
            "This is fun, I'm grateful for you": [5,["Doraemon"]],
            "Oh my gosh it's so cold, let's get home before you catch a cold": [5,["Hello Kitty", "Kuromi"]],
            "Darn it, I wanted to keep going!": [5,["Keroppi"]],
            "OMG LOOK AT THAT BUTTERFLY": [5,["Pompompurin"]]
        }
    },
    "5": {
        "text": "The day comes to an end and we go and cuddle under the bedsheets, \
                 awaiting our next adventure!",
        "image" : "smaller_images/new/bed4.jpg",
"choices": {
            "Continue": [59,[]]
        }
    },
    "6": {
        "text": "We continue the walk and then in the distance Simon spots something moving.. \
                What could it be?",
        "image" : "smaller_images/new/continuewalk.jpg",   
"choices": {
            "Approach it": [7,["Keroppi"]],
            "Umm, lets just continue our walk..": [4,["Hello Kitty", "Pompompurin", "Kuromi"]]
        }
    },
    "7": {
        "text": "Oh my god is that a coyote?? What is it doing here??",
        "image" : "smaller_images/new/coyote.png",
"choices": {
            "Run away": [4, ["Kuromi"]],
            "Observe from a distance": [8, ["Doraemon"]],
            "Call the police and to alert them about the danger": [8, ["Hello Kitty", "Pompompurin"]],
            "Lets get closer!": [8, ["Keroppi"]]
        }
    },
    "8" :{
        "text": "The coyote bolts into the bushes and no longer can be seen..",
        "image" : "smaller_images/new/coyote.png",
"choices": {
            "I hope the coyote doesn't cause any harm to anyone": [4, ["Hello Kitty"]],
            "Let's get out of here before it comes back": [4,["Pompompurin", "Kuromi"]],
            "Hehe, do you think the coyote thought we were a cute couple?": [4, ["Doraemon"]]
        }
    },
    "9" :{
        "text" : "Simon takes you down to the kitchen and whips out..",
        "image" : "smaller_images/new/kitchen.jpg",
"choices": {
            "Oh no is it what I think it is???": [10, ["Doraemon"]],
            "What's he schemin": [10, ["Kuromi"]],
            "OMG A SURPRISE???": [10, ["Keroppi"]]
        }
    },
    "10" :{    
        "text": "Omg a charcuterie board!!! ____________________,\
                What do you think?",
        "image" : "smaller_images/new/charcuterie.png",
"choices": {
            "I can't wait to chow down": [11,["Pompompurin"]],
            "I appreciate the preparation behind this!": [11, ["Hello Kity"]],
            "I love home dates, woohoo!": [11,["Kuromi"]],
            "Lets go get tiramisu after this!": [11,["Keroppi"]]
        }
    },
    "11": {
        "text": "What do you eat first?",
        "image" : "smaller_images/new/charcuterie.png",
"choices": {
            "Boursin + Crackers": [12, ["Doraemon, Keroppi"]],
            "Deli Meats": [12,["Pompompurin"]],
            "Fruits": [12, ["Helo Kitty"]],
            "FUCK IT I'M FINNA FEAST": [12, ["Kuromi"]]
        }
    },
    "12" : {
        "text": "Simon asks wanna try the wine?",
        "image" : "smaller_images/new/charcuterie.png",
"choices": {
            "Ummm... I'll pass on it this time": [13,["Hello Kitty"]],
            "Fine I'll take a sip..": [13, ["Pompompurin"]],
            "One shot": [81,["Keroppi"]]
        }
    },
    "13" : {
        "text": "That was yummy.",
        "image" : "smaller_images/new/charcuterie.png",
"choices":{
            "Let's do this again someday!": [5, ["Pompompurin", "Doraemon", "Kuromi"]],
            "So... about that tiramisu": [5, ["Keroppi"]],
            "My boyfriend is such a great chef!": [5, ["Hello Kitty"]],
        }
    },
    "81": {
        "text": "*chugchug*",
        "image" : "smaller_images/new/chugchug.jpg",
"choices": {
            "Continue": [14,[]]
        }
    },
    "14": {
        "text": "OH MY GOD ARE YOU OKAY?? \
                Judy Tang has fainted..\"",
        "image" : "smaller_images/new/black.jpg",
"choices": {
            "Continue": [5,[]]
        }
    },
    "15" : {
        "text": "WOOHOO, we HOMEBODY LIFE \
            What's next?.",
        "image" : "smaller_images/new/bed5.jpg",
"choices": {
            "Stay in Bed": [16, ["Kuromi", "Hello Kitty"]],
            "Get out of bed": [21, ["Keroppi", "Doraemon"]],
            "Roll around cause you can't decide": [21, ["Pompompurin"]]
        }
    },
    "16": {
        "text": "What now?",
        "image" : "smaller_images/new/bed5.jpg",
"choices": {
            "Scroll Reels": [17, ["Kuromi"]],
            "Be toopid": [18,["Hello Kitty"]],
            "QCC???": [19, ["Doraemon"]],
            "Peendge": [20,["Pompompurin"]]
        }
    },
    "17": {
        "text": "*scrollscroll*",
        "image" : "smaller_images/new/reels.png",
"choices": {
            "Continue": [5,[]]
        }
    },
    "18" : {
        "text": "BEDGE",
        "image" : "smaller_images/new/bed6.jpg",
"choices": {
            "Continue": [5,[]]
        }
    },
    "19":{
        "text": "INSERT QCC HERE",
        "image" : "smaller_images/new/bed5.jpg",
"choices" : {
            "Continue": [5,[]]
        }
    },
    "20" :{
        "text": "U ARE A CERTIFIED HORNDOG",
        "image" : "smaller_images/new/bed7.jpg",
"choices" : {
            "Continue": [5,[]]   
        }
    },
    "21":{
       "text": "Wow look at us we are TWINNING \
        Insert bathroom pic...",
        "image" : "smaller_images/new/bathroom.png",
"choices":{
            "Are u gonna skip brushing your teeth again..": [22,["Hello Kitty"]],
            "We're so cute~": [22, ["Doraemon"]],
            "Ew i look oogly": [22, ["Pompompurin"]]
       } 
    },
    "22": {
        "text": "Simon start gamin big time..\
                 What do you do?!",
        "image" : "smaller_images/new/gaming.png",
"choices": {
            "Hes playing that stinkin game again..": [23,["Keroppi"]],
            "GIVE ME ATTENTION": [23, ["Doraemon"]],
            "*Logs into maplestory*": [23, ["Pompompurin", "Hello Kitty", "Kuromi"]]
        }
    },
    "23": {
        "text": "Simon HULK SMASHES the table after losing his game, what do you do?",
        "image" : "smaller_images/new/anger.jpg",
"choices":{
            "Its okay babe, its just a game": [24,["Hello Kitty"]],
            "Umm... that was kinda scary": [24,["Kuromi"]],
            "Don't worry you'll get em next time!": [24, ["Pompompurin"]]
        }
    },
    "24": {
        "text": "You start to feel hungry and ask Simon for a snack. He offers \
                a few options, what do you pick?",
        "image" : "smaller_images/new/snacks.jpg",
"choices": {
            "Spicy Chips": [25,["Pompompurin"]],
            "Bootleg Steeped Tea": [25, ["Doraemon", "Keroppi"]],
            "Cuttlefish Crackers": [25, ["Hello Kitty", "Kuromi"]]
        }
    },
    "25": {
        "text": "We chill for a few hours and brainstorm what to do next. \
            What's your next move?",
        "image" : "smaller_images/new/bed8.png",
"choices": {
            "Let's play a game together!": [5, ["Pompompurin", "Hello Kitty", "Kuromi"]],
            "I tired, let's go coodle lay upstairs": [26,["Doraemon"]],
            "Idk, what do you wanna do?": [5, ["Kuromi"]]
        }
    },
    "26":{
        "text": "Coodle lays",
        "image" : "smaller_images/new/bed9.png",
"choices" : {
            "Continue": [5,[]]
        }
    },
    "27": {
        "text": "Perfect! Simon is hungry too. \
                Where are we eating?",
        "image" : "smaller_images/new/random.png",
"choices":{
            "At home": [28,["Kuromi", "Hello Kitty"]],
            "Let's go out!": [40,["Doraemon", "Keroppi"]],
            "I can't decide": [Math.random() < 0.5 ? 28 : 40, ["Pompompurin"]]
        }
    },
    "28": {
        "text": "Simon LOVES staying at home, what are we eating today?",
        "image" : "smaller_images/new/kitchen.jpg",
"choices": {
            "Kimchi Soup": [29,["Pompompurin", "Hello Kitty", "Kuromi"]],
            "Pasta": [36, ["Doraemon"]],
            "Butter Chicken": [38, ["Keroppi"]]
        }
    },
    "29": {
        "text": "Simon begins cooking...",
        "image" : "smaller_images/new/cooking.png",
"choices": {
            "Simon's such a great chef, I can't wait to eat!": [23,["Kuromi"]],
            "I hope he draws a heart with the green onions..": [23,["Doraemon"]],
            "Offer to help": [23,["Hello Kitty"]],
            "I dunno how cook dat": [23,["Pompompurin"]]
        }
    },
    "30": {
        "text": "\"The Food is done! Wow soup looks delicious!",
        "image" : "smaller_images/new/kimchisoup.png",
"choices":{
            "*Sniffs* ahh.. kimchi soup oh how I love your existence": [31,["Kuromi"]],
            "NOMONOMNOMNOMONOM": [31,["Keroppi"]],
            "Give some to Simon": [31, ["Pompompurin", "Hello Kitty"]],
            "Aww, no green onion heart": [31, ["Doraemon"]]
        }
    },
    "31": {
        "text": "All of a sudden we hear *STOMP STOMP STOMP STOMP STOMP*",
        "image" : "smaller_images/mushroom.png",
"choices" :{
            "RUN!!! RUN!! INTRUDER!!!": [32,["Kuromi"]],
            "Who is that?": [32,["Hello Kitty", "Keroppi"]],
            "Act like you heard nothing": [32, ["Doraemon"]],
            "Get Jump Scared": [32,["Pompompurin"]]
        }
    },
    "32": {
        "text": "It's the kids! What do you do?",
        "image" : "smaller_images/new/kids.jpg",
"choices": {
            "Play with Lara": [33,["Pompompurin", "Hello Kitty", "Keroppi"]],
            "Play with Kingsley": [35,["Pompompurin", "Hello Kitty", "Keroppi"]],
            "Continue what you were doing": [34,["Doraemon", "Kuromi"]],
        }
    },
    "33": {
        "text": "Lara shows you her new dress.",
        "image" : "smaller_images/new/Lara.png",
"choices": {
            "Wow Lara that is so cute!!": [34,["Hello Kitty"]],
            "Simon go take a picture with her!!!": [34,["Doraemon"]],
            "Oh wow! *Continues eating*": [34,["Kuromi"]]
        }
    },
    "34": {
        "text": "It's been over an hour and the kids won't leave you alone..",
        "image" : "smaller_images/new/clock.jpg",
"choices": {
            "Try and make up an excuse to go to our room alone!": [5,["Doraemon"]],
            "Continue entertaining the kiddos, embracing your inner motherhood": [5,["Keroppi"]],
            "Ask SimAN for help": [5,["Kuromi", "Hello Kitty", "Pompompurin"]]
        }
    },
    "35": {
        "text": "Kingsley is messing around and then asks you to play Mech Arena",
        "image" : "smaller_images/new/kingsley.png",
"choices" : {
            "Fine, let's play one game. *Download and play with him*": [34,["Pompompurin"]],
            "Simon you play!": [34,["Kuromi", "Hello Kitty"]],
            "Simon let's play together!!": [34,["Doraemon"]],
            "Let's play in the backyard!": [34,["Keroppi"]]
        } 
    },
    "36": {
        "text": "Simon begins cooking...",
        "image" : "smaller_images/new/cooking.png",
"choices": {
            "Simon's such a great chef, I can't wait to eat!": [37,["Pompompurin", "Kuromi"]],
            "I hope he draws a heart with the parmesean cheese..": [37,["Doraemon"]],
            "Offer to help": [37,["Hello Kitty"]],
            "Hmm, I kinda feel like eating out actually": [37,["Keroppi"]]
        }
    },
    "37": {
        "text": "\"The Food is done! Wow pasta looks delicious!",
        "image" : "smaller_images/new/pasta.png",
"choices":{
            "*Sniffs* ahh.. pasta oh how I love your existence": [31,["Kuromi"]],
            "NOMONOMNOMNOMONOM": [31,["Keropi"]],
            "Give some to Simon": [31, ["Pompompurin", "Hello Kitty"]],
            "Aww, no parmesean heart": [31, ["Doraemon"]]
        }
    },
    "38": {
        "text": "Simon begins cooking...",
        "image" : "smaller_images/new/cooking.png",
"choices": {
            "Simon's such a great chef, I can't wait to eat!": [39,["Hello Kitty", "Kuromi"]],
            "I hope he draws a heart with the cream garnish..": [39,["Doraemon"]],
            "Offer to help": [39,["Pompompurin"]],
            "Hmm, I kinda feel like eating out actually": [37,["Keroppi"]]
        }
    },
    "39": {
        "text": "\"The Food is done! Wow butter chicken looks delicious!",
        "image" : "smaller_images/new/butterchicken.png",
"choices":{
            "*Sniffs* ahh.. pasta oh how I love your existence": [31,["Kuromi"]],
            "NOMONOMNOMNOMONOM": [31,["Keroppi"]],
            "Give some to Simon": [31, ["Pompompurin", "Hello Kitty"]],
            "Aww, no cream heart": [31, ["Doraemon"]]
        }
    },
    "40":{
        "text": "Where we headed?",
        "image" : "smaller_images/new/car1.png",
"choices": {
            "Pizza": [41,["Keroppi"]],
            "Cotolet": [42,["Keroppi", "Kuromi"]],
            "Ramen": [43,["Doraemon", "Kuromi"]],
            "Simon, you decide (wink wink)": [Math.random() < 0.33 ? 41 : (Math.random() < 0.5 ? 42 : 43), ["Pompompurin"]]
        }
    },
    "41": {
        "text": "We arrive at pizza",
        "image" : "smaller_images/new/pizza.jpg",
"choices": {
            "Hmm, not my style of pizza": [44, ["Kuromi"]],
            "I'm glad we got to try this together!": [44,["Hello Kitty"]],
            "*Take a picture of Simon with the food*": [44, ["Doraemon", "Pompompurin"]]
        }
    },
    "42": {
        "text": "We arrive at cotolet",
        "image" : "smaller_images/new/cotolet.jpg",
"choices": {
            "Hmm, not feeling this today. It looks good though!": [44, ["Kuromi"]],
            "I'm glad we got to try this together! It's one of our staples~": [44,["Doraemon", "Keroppi"]],
            "*Take a picture of Simon with the food*": [44, ["Doraemon", "Hello Kitty"]],
            "Is Simon gonna say the old waiter was really nice again?": [44,["Pompompurin"]]
        }
    },
    "43": {
        "text": "We arrive at ramen",
        "image" : "smaller_images/new/midori.jpg",
"choices" : {
            "Hmm, ramen is alright. Japan ramen is better though": [44, ["Kuromi"]],
            "I'm glad we got to try this together! We don't get ramne too often": [44,["Keroppi"]],
            "*Take a picture of Simon with the food*": [44, ["Doraemon"]],
            "Siman can u order for me?": [44, ["Pompompurin"]]
        }
    },
    "44": {
        "text": "We start chatting about our quality time. What do you think of them? \
                I like our home time together, and going on walks, doing new activities, and \
                talking about random stuff that u let me ramble about",
        "image" : "smaller_images/new/bed10.png",
"choices": {
                "I like to chill at home with you, watch shows and be stupid": [45, ["Kuromi"]],
                "I like eating out together, but none of that fancy dining business": [45, ["Kuromi", "Keroppi"]],
                "I like when we go on road trips, Lets go on more and more!": [45, ["Keroppi", "Doraemon"]],
                "When you're happy, I'm happy!": [45, ["Pompompurin"]]
        }
    },
    "45": {
        "text": "Which was your favorite fall memory? My favorite is Edward Gardens :) (no copying)",
        "image" : "smaller_images/new/firstfall1.png",
"choices" : {
            "Edward Gardens": [46,["Doreamon", "Keroppi"]],
            "Dundas Peak": [46,["Hello Kitty", "Keroppi"]],
            "Dundas Peak Double Date": [46, ["Keroppi"]],
            "When I.. fall for you kekeke": [46, ["Doraemon", "Pompompurin"]]
        }
    },
    "46": {
        "text": "By the way, I Love You! <3",
        "image" : "smaller_images/new/ily.jpg",
"choices": {
            "I Love You Too!": [5,["Hello Kitty,", "Keroppi"]],
            "*swoon*": [5,["Doraemon", "Keroppi"]],
            "Likely STORY": [5, ["Kuromi", "Pompompurin"]]
        }
    },
    "47": {
        "text": "We walk outside and were teleported onto some sort of... path?",
        "image" : "smaller_images/new/path.jpg",
"choices": {
            "Continue": [48,[]]
        }
    },
    "49": {
        "text": "You're at a crossroad, do you choose to go left or right?",
        "image" : "smaller_images/new/yellowbrickroad.png",
"choices": {
            "Left": [50,["Doraemon", "Kuromi", "Hello Kitty", "Keroppi"]],
            "Right": [53, ["Keroppi"]],
            "I can't decide :( decide for me pls": [Math.random() < 0.5 ? 50 : 53, ["Pompompurin"]],
        }
    },
    "48":{
        "text": "This path seems.. strange. It feels like everything around me is morphing into images..?",
        "image" : "smaller_images/new/blurryimage.jpg",
"choices": {
            "I'm scared... get me out of here!!": [58, ["Kuromi"]],
            "Wtf is going on, SIMON U THERE?": [58, ["Hello Kitty"]],
            "Accept the craziness": [58, ["Pompompurin"]]
        }
    },
    "50": {
        "text": "You look closer at the images and you see a memory.. \
        I chose an awesome outfit that day and all the nice looking flowers went well with your fit :)",
        "image" : "smaller_images/new/tulips.png",
"choices": {
            "Continue": [51,[]]
        }
    },
    "51": {
        "text": "I like how we wandered off into a random bench and chilled together, outside of \
                 all the traffic at Edward Gardens. I remember you roasting my bad camera skills but \
                 HEY! I don't think I got much better tbh :D",
        "image" : "smaller_images/new/firstfall2.jpg",
"choices" : {
            "Continue": [52,[]]
        }
    },
    "52": {
        "text": "Oh, one of my favorite photos. What an era.. \
        Glad you introduced me to note it.. \
        Although I do remember sometimes I draw sad things when we fight HAHA",
        "image" : "smaller_images/new/noteit.png",
"choices": {
            "Continue": [57,[]]
        }
    },
    "53": {
        "text": "Snowboarding with you is a lot of fun \
        I think it is cute that you are trying very hard to improve \
        and I'm happy to help you through your journey!",
        "image" : "smaller_images/new/snowboard.png",
"choices" :{
            "Continue": [54,[]],
        }
    },
    "54": {
        "text": "Out on honeymoon with Judy",
        "image" : "smaller_images/new/jennaortega.png",
"choices" :{
            "Continue": [55,[]],
        }
    },
    "55": {
        "text": "Oh, one of my favorite photos. I've never really been to these\
        light / art thingies... But we got this cute ass picture out of it WEEE",
        "image" : "smaller_images/new/lights.png",
"choices" :{
            "Continue": [57,[]],
        }
    },
    "57": {
        "text": "You continue down the path and encounter a genie. \
        You’ve been granted one wish from a genie. What would you wish for us?",
        "image" : "smaller_images/new/genie.jpg",
"choices" :{
            "A lifetime of magical moments together.": [58,["Doraemon", "Pompompurin"]],
            "Endless movie nights and snacks.": [58, ["Kuromi"]],
            "A magic carpet for endless travels!": [58, ["Keroppi"]],
            "Your happiness and health, always.": [58, ["Hello Kitty"]]
        }
    },
    "58": {
        "text": "Pick a sidekick to come with us.",
        "image" : "smaller_images/new/sidekick.png",
"choices" :{
            "Haku": [5,["Doraemon"]],
            "Pikachu": [5, ["Pompompurin"]],
            "Totoro": [5, ["Kuromi"]],
            "Stitch": [5, ["Keroppi"]]
        }
    },
    "59": {
        "text": "You wake up in the middle of the night and all of a sudden you see yourself \
        on a plane! You look to the let and OMG its the outside!!\
        Simon is to your right..",
        "image" : "smaller_images/new/plane.jpg",
"choices" :{
            "What in the world is going on, was that all a dream?": [60,["Kuromi", "Hello Kitty"]],
            "WEEE ADVENTURE TIME": [60, ["Keroppi", "Pompompurin"]],
            "*go for cuddles*": [60, ["Doraemon"]]
        }
    },
    "60": {
        "text": "The flight lands and BOOM it's Japan!! What do we do first?",
        "image" : "smaller_images/new/japanflag.png",
"choices" :{
            "Check into the hotel": [61,["Kuromi"]],
            "Go to 7/11 or Family Mart": [61, ["Hello Kitty", "Pompompurin", "Keroppi"]],
            "Couple Selfie!": [61, ["Doraemon"]]
        }
    },
    "61": {
        "text": "We eventually make it to the hotel and Simon KOs\
        You feel yourself dozing off but you think to yourself:",
        "image" : "smaller_images/new/sleeping.png",
"choices" :{
            "I can't wait for that this trip has to offer!": [62,["Hello Kitty", "Doraemon"]],
            "*Records Simon Snoring*": [62, ["Pompompurin"]],
            "ZZZZZZZZZZZZ": [62, ["Kuromi"]]
        }
    },
    "62": {
        "text": "It's morning! Off to Take a Walk to the Park!\
        What should Simon wear?",
        "image" : "smaller_images/new/outfit2.png",
"choices" :{
            "Casual, it's going to be a hot day": [63,["Pompompurin", "Kuromi"]],
            "What ever matches what I'm wearing!!": [63, ["Doraemon", "Hello Kitty"]],
            "Street wear..": [63, ["Keroppi"]]
        }
    },
    "63": {
        "text": "What a beautiful garden. Almost as beautiful as Judy Tang!",
        "image" : "smaller_images/new/garden.jpg",
"choices" :{
            "Lets take a picture over there!": [64,["Doraemon"]],
            "My legs are tired... why is it so hot": [64, ["Hello Kitty"]],
            "Lets take a break on the bench~": [64, ["Kuromi"]],
            "Wad da": [64, ["Pompompurin"]]
        }
    },
    "64": {
        "text": "We sit down for tea, what do you order?",
        "image" : "smaller_images/new/tea.jpg",
"choices" :{
            "Matcha": [65,["Kuromi", "Hello Kitty"]],
            "Earl Grey": [65, ["Keroppi", "Hello Kitty"]],
            "Nothing too sweet, Simon is already too sweet": [65, ["Doraemon"]],
            "TIRAMISU": [65, ["Pompompurin"]],
        }
    },
    "65": {
        "text": "It's time to hit up a Round 1.\
        Yay Simon won something, picture time!",
        "image" : "smaller_images/new/round1.jpg",
"choices" :{
            "Snap Snap Snap": [66,[]]
        }
    },
    "66": {
        "text": "What a cute picture, I really like this one!",
        "image" : "smaller_images/new/judypic.jpg",
"choices" :{
            "Continue": [67,[]]
        }
    },
    "67": {
        "text": "I still appreciate that you came with me to try this.\
        Sushi place, even though maybe we weren't suppose to take up\
        two seats.. haha :3",
        "image" : "smaller_images/new/sushi.png",
"choices" :{
            "Continue": [68,[]]
        }
    },
    "68": {
        "text": "Remember when we rented Kimonos? It was so dam.\
        expensive! But I think it was worth it with all the amazing\
        pictures we were able to take :)",
        "image" : "smaller_images/new/kimono.png",
"choices" :{
            "Continue": [69,[]]
        }
    },
    "69": {
        "text": "Pop quiz, out of these options which one would I want to eat at?.\
        RIGHT MEOW",
        "image" : "smaller_images/new/eating.jpg",
"choices" :{
            "Gyukatsu": [70,[]],
            "Udon": [70, ["Doraemon", "Hello Kitty"]],
            "Takoyaki": [70, []]
        }
    },
    "70": {
        "text": "Honestly... the Udon looks so good rn. Were you correct?",
        "image" : "smaller_images/new/udon.jpg",
"choices" :{
            "Yes": [71,["Doraemon"]],
            "No, hehe oops": [71,["Pompompurin"]]
        }
    },
    "71": {
        "text": "As sunset is approaching, we scurry to our next destination..",
        "image" : "smaller_images/new/sunset.jpg",
"choices" :{
            "What was our plan again?": [72,["Kuromi", "Pompompurin"]],
            "Can we grab some onigiris first?": [72,["Hello Kitty"]],
            "I know EXACTLY where were going <3": [72,["Doraemon", "Keroppi"]]
        }
    },
    "72": {
        "text": "Wow.. which view is better this or...",
        "image" : "smaller_images/new/sunset.jpg",
"choices" :{
            "Or what": [73,[]]
        }
    },
    "73": {
        "text": "THISSSSSSSSSS",
        "image" : "smaller_images/new/sunsetselfie.png",
"choices" :{
            "THIS!!!": [74,["Doraemon", "Hello Kitty", "Keroppi"]],
            "Umm.. the sunset is better..": [74,["Kuromi"]],
            "Enough with your funny business": [74,["Pompompurin"]]
        }
    },
    "74": {
        "text": "Whats next?",
        "image" : "smaller_images/new/sunsetselfie.png",
"choices" :{
            "More pictures!": [75,["Doraemon", "Keroppi"]],
            "Lets call it a night! You must be tired": [79,["Kurommi", "Hello Kitty"]]
        }
    },
    "75": {
        "text": "SNIP",
        "image" : "smaller_images/new/sunsetselfie2.png",
"choices" :{
            "Continue": [76,[]]
        }
    },
    "76": {
        "text": "SNAP",
        "image" : "smaller_images/new/sunsetselfie3.png",
"choices" :{
            "Continue": [77,[]]
        }
    },
    "77": {
        "text": "What do you think of those pictures?",
        "image" : "smaller_images/new/sunsetselfie4.png",
"choices" :{
            "I love them, send them to me when you get the chance <3": [78,["Doraemon"]],
            "Omg I look so bad.. should we take another one...": [78,["Hello Kitty"]],
            "Umm.. i think you have your eyes closed in this one": [78,["Pompompurin", "Kuromi"]]
        }
    },
    "78": {
        "text": "What do you think, should I post this on my instagram?",
        "image" : "smaller_images/new/simonpic.png",
"choices" :{
            "No, I'm not in that photo!!!": [79,["Doraemon"]],
            "Yes babe, you look dazzling!": [79,["Doraemon"]],
            "Err... I can't even see your eyes?": [79,["Pompompurin"]],
            "Let me take a different one...": [79,["Hello Kitty", "Kuromi"]]
        }
    },
    "79": {
        "text": "Fine... welp, let's get down from here!",
        "image" : "smaller_images/new/sunhasset.png",
"choices" :{
            "Continue": [80,[]]
        }
    },
    "80": {
        "text": "You start to think about home, what do you miss the most?",
        "image" : "smaller_images/new/home.jpg",
"choices" :{
            "Nothing, I want to stay here forever!": [81,["Doraemon", "Keroppi"]],
            "I just want to relax on my own bed :P": [81,["Kuromi"]],
            "I think I've had enough of Japan now, haha. Wbu?": [81,["Kuromi"]],
            "Idk but I'm POOOR *PAINDGE*": [81,["Pompompurin"]]
        }
    },
    "81": {
        "text": "POOF, you look to the left and to your right and youre back home\
        What do you think?",
        "image" : "smaller_images/new/kinnie.jpg",
"choices" :{
            "Hmm, I think my gift was better": [0,["Kuromi", "Pompompurin"]],
            "FINEE YOU WIN": [0,["Doraemon", "Hello Kitty"]],
            "I think they're about the same..": [0,["Kuromi", "Pompompurin"]],
            "Love you! :3": [0,["Doraemon"]]
        }
    },




};
const personalities = { 
    "Doraemon": 0, // The Romantic
    "Hello Kitty": 0, // The Caring
    "Keroppi": 0, // The Adventurous
    "Kuromi": 0, // The Chill-At-Home
    "Pompompurin": 0 // The Derpy
}

let currentState = 1;

function renderState(state) {
    const storyText = document.getElementById('story-text');
    const storyImage = document.getElementById('story-image');
    const choicesContainer = document.getElementById('choices');

    const img = new Image();
    img.src = gameData[state].image;

    img.onload = () => {
        storyImage.src = img.src;
        storyText.textContent = gameData[state].text;
        choicesContainer.innerHTML = '';

        for (const [choice, info] of Object.entries(gameData[state].choices)) {
            const button = document.createElement('button');
            button.textContent = choice;
            button.className = 'choice-button';
            let nextState = info[0];
            button.onclick = () => changeState(nextState, info[1]); //each time you change state you update the personalities dictionary
            choicesContainer.appendChild(button);
        }
    };
}


function changeState(newState, selectedPersonalities) { 
    // console.log(personalities); 
    selectedPersonalities.forEach(personality => {
        personalities[personality]++;
    });

    currentState = newState;

    if (currentState === 0) {
        revealMostSelectedVegetable();
    } else {
        renderState(currentState);
    }
}
function revealMostSelectedVegetable() {
    let maxCount = 0;
    let maxVeggie = '';

    for (const [vegetable, count] of Object.entries(personalities)) {
        if (count > maxCount) {
            maxCount = count;
            maxVeggie = vegetable;
        }
    }

    const storyImage = document.getElementById('story-image');
    const text = document.getElementById('story-text');
    const choicesContainer = document.getElementById('choices');
    const veggieImagePath = `smaller_images/id_cards/${maxVeggie}.png`;

    // Preload the image
    const img = new Image();
    img.src = veggieImagePath;
    img.className = 'responsive-image'; 

    // Create the share button
    const cardButton = document.createElement('button');
    cardButton.textContent = 'Click here for your Anniversary Card!';
    cardButton.className = 'choice-button';

    // Once the image is loaded, update the DOM
    img.onload = () => {
        storyImage.style.display = 'none';
        choicesContainer.style.display = 'none';
    
        text.textContent = "KABOOM!!!! This is your Sanrio Personality! Does it seem like you?";
        text.appendChild(img);

        cardButton.onclick = () => {
            // Create a note card div if it doesn't exist
            let noteCard = document.getElementById('note-card');
            if (!noteCard) {
                noteCard = document.createElement('div');
                noteCard.id = 'note-card';
                noteCard.style.position = 'absolute';
                noteCard.style.backgroundColor = '#fff';
                noteCard.style.border = '2px solid black';
                noteCard.style.padding = '20px';
                noteCard.style.width = '475px';
                noteCard.style.height = '425px';
                noteCard.style.top = '50%';
                noteCard.style.left = '50%';
                noteCard.style.transform = 'translate(-50%, -50%)';
                noteCard.style.boxShadow = '0px 4px 8px rgba(0, 0, 0, 0.2)';
                noteCard.style.textAlign = 'left';
                noteCard.style.display = 'none'; // Initially hidden
                noteCard.style.whiteSpace = 'pre-wrap';

                // Add some text inside the note card
                const paragraph = document.createElement('p');
                paragraph.style.fontSize = '14px';
                paragraph.textContent = `Hi Baby, Happy Anniversary!! ♥\n I hope you enjoyed going through that journey of memories.. I think you can probably tell where the inspiration came from. You would always send me these personality quizzes and we’d always see if what you got would be “compatible” with mine harhar! I wonder what kind of gifts I will have to come up with in the future… I can’t keep pulling this website card!! Having a creative actual physical skill allows for so much more!!! I did enjoy making this though, looking through all the memories we have!

Anyway.. we made it up to the 2 year mark.. EHEHEHEHHE. I know it’s been a tough road but I do love you very much and I hope I’ve been becoming a better boyfriend in your eyes as I am very lacking! I love how we motivate each other to do “productive” things (even though you don’t believe it) and we have games in common to play (even though you don’t believe it) and we share similar opinions in a lot of things (I don’t know if you believe it), and more more more more more!!! (Even though you don’t believe it). I am grateful for everything, really! You make my life a lot more exciting than rotting at home all day :3

Sorry that we aren’t able to spend the ACTUAL anniversary day together, but I will miss you very much while I am in Vancouver and I won’t forget to get you a cute pin/magnet. I really hope there is a good one though..

So what’s the verdict? WHOS GIFT IS BETTER? Say the truth!`;
                noteCard.appendChild(paragraph);

                // Append the note card to the body
                document.body.appendChild(noteCard);
            }

            // Toggle the display of the note card
            noteCard.style.display = (noteCard.style.display === 'none') ? 'block' : 'none';
        };

        text.appendChild(cardButton);
    };
}


function startGame() {
    document.querySelector('.title').style.display = 'none';
    document.getElementById('homescreen').style.display = 'none';
    document.querySelector('.start-button').style.display = 'none';
    document.getElementById('game-container').style.display = 'block';
    renderState(currentState);
}

window.onload = () => {
    renderState(currentState);
}
